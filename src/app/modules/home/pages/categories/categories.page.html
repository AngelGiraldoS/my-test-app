<ion-header>
  <ion-toolbar>
    <ion-title>Categorías</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-list>
    <ion-item>
      <ion-input [(ngModel)]="newCategoryName" placeholder="Nueva categoría"></ion-input>
      <ion-button (click)="addCategory()" slot="end">
        <ion-icon name="add-outline"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item *ngFor="let category of categories$ | async">
      <ion-label>{{ category.name }}</ion-label>
      <ion-button (click)="editCategory(category)" fill="clear" slot="end">
        <ion-icon name="create-outline"></ion-icon>
      </ion-button>
      <ion-button (click)="deleteCategory(category.id)" fill="clear" slot="end">
        <ion-icon name="trash-outline"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>

  <ion-alert
    trigger="present-alert"
    header="Editar Categoría"
    [isOpen]="showAlert"
    (didDismiss)="showAlert = false"
    [buttons]="alertButtons"
    [inputs]="[
      {
        name: 'name',
        placeholder: 'Nombre de la categoría',
        value: editingCategory?.name
      }
    ]"
  >
  </ion-alert>
</ion-content>